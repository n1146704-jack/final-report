/* =============================================
   動態背景效果
   ============================================= */

/* --- 動態背景容器 --- */
.animated-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: -2;
  background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
}

/* --- 漸層色塊基礎樣式 --- */
.gradient-blob {
  position: absolute;
  border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
  filter: blur(40px);
  opacity: 0.7;
  animation: morphBlob 15s ease-in-out infinite, hueRotate 10s linear infinite;
  mix-blend-mode: screen;
}

/* --- 各色塊位置與顏色設定 --- */
.blob-1 {
  width: 45vw;
  height: 45vw;
  max-width: 600px;
  max-height: 600px;
  top: -15%;
  left: -10%;
  background: linear-gradient(
    135deg,
    hsl(280, 100%, 60%) 0%,
    hsl(320, 100%, 50%) 50%,
    hsl(350, 100%, 60%) 100%
  );
  animation-delay: 0s;
  animation-duration: 18s, 12s;
}

.blob-2 {
  width: 40vw;
  height: 40vw;
  max-width: 500px;
  max-height: 500px;
  top: 60%;
  right: -10%;
  background: linear-gradient(
    135deg,
    hsl(200, 100%, 50%) 0%,
    hsl(240, 100%, 60%) 50%,
    hsl(280, 100%, 55%) 100%
  );
  animation-delay: -3s;
  animation-duration: 20s, 15s;
}

.blob-3 {
  width: 35vw;
  height: 35vw;
  max-width: 450px;
  max-height: 450px;
  bottom: -10%;
  left: 20%;
  background: linear-gradient(
    135deg,
    hsl(150, 100%, 45%) 0%,
    hsl(180, 100%, 50%) 50%,
    hsl(200, 100%, 55%) 100%
  );
  animation-delay: -6s;
  animation-duration: 16s, 18s;
}

.blob-4 {
  width: 30vw;
  height: 30vw;
  max-width: 400px;
  max-height: 400px;
  top: 30%;
  left: 50%;
  background: linear-gradient(
    135deg,
    hsl(30, 100%, 55%) 0%,
    hsl(60, 100%, 50%) 50%,
    hsl(90, 100%, 50%) 100%
  );
  animation-delay: -9s;
  animation-duration: 22s, 14s;
}

.blob-5 {
  width: 25vw;
  height: 25vw;
  max-width: 350px;
  max-height: 350px;
  top: 10%;
  right: 20%;
  background: linear-gradient(
    135deg,
    hsl(330, 100%, 60%) 0%,
    hsl(0, 100%, 55%) 50%,
    hsl(30, 100%, 55%) 100%
  );
  animation-delay: -12s;
  animation-duration: 19s, 16s;
}

/* --- 色塊變形動畫 --- */
@keyframes morphBlob {
  0%,
  100% {
    border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  25% {
    border-radius: 70% 30% 50% 50% / 30% 60% 40% 70%;
    transform: translate(5%, 10%) rotate(90deg) scale(1.1);
  }
  50% {
    border-radius: 50% 60% 30% 70% / 60% 40% 70% 30%;
    transform: translate(-5%, 5%) rotate(180deg) scale(0.95);
  }
  75% {
    border-radius: 30% 70% 60% 40% / 50% 70% 30% 60%;
    transform: translate(10%, -5%) rotate(270deg) scale(1.05);
  }
}

/* --- 色相旋轉動畫 --- */
@keyframes hueRotate {
  0% {
    filter: blur(40px) hue-rotate(0deg);
  }
  100% {
    filter: blur(40px) hue-rotate(360deg);
  }
}

/* =============================================
   裝飾動畫容器
   ============================================= */

.decorations-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
  overflow: hidden;
}

/* --- 氣泡/玻璃球樣式 --- */
.floating-decoration {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  animation: floatUp linear forwards;
}

/* 氣泡類型 */
.decoration-bubble {
  background: radial-gradient(
    ellipse at 30% 30%,
    rgba(255, 255, 255, 0.8) 0%,
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0.1) 60%,
    transparent 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: inset 0 -20px 40px rgba(255, 255, 255, 0.1),
    0 5px 20px rgba(0, 0, 0, 0.1);
}

/* 玻璃球類型 */
.decoration-glass {
  background: radial-gradient(
      ellipse at 25% 25%,
      rgba(255, 255, 255, 0.5) 0%,
      rgba(255, 255, 255, 0.2) 20%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 75% 75%,
      rgba(255, 255, 255, 0.15) 0%,
      transparent 40%
    );
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(2px);
  box-shadow: inset 0 0 30px rgba(255, 255, 255, 0.1),
    0 8px 32px rgba(0, 0, 0, 0.15);
}

/* 彩色氣球類型 */
.decoration-balloon {
  border: none;
  box-shadow: inset -10px -10px 30px rgba(0, 0, 0, 0.2),
    inset 5px 5px 20px rgba(255, 255, 255, 0.4), 0 10px 30px rgba(0, 0, 0, 0.2);
}

.decoration-balloon::before {
  content: "";
  position: absolute;
  top: 15%;
  left: 20%;
  width: 30%;
  height: 20%;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  filter: blur(3px);
}

.decoration-balloon::after {
  content: "";
  position: absolute;
  bottom: -15%;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 15px solid inherit;
  border-top-color: inherit;
}

/* --- 上升動畫 --- */
@keyframes floatUp {
  0% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-120vh) rotate(360deg) scale(0.8);
    opacity: 0;
  }
}

/* --- 左右搖擺變體 --- */
@keyframes floatUpSway {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  25% {
    transform: translateY(-30vh) translateX(30px) rotate(90deg);
  }
  50% {
    transform: translateY(-60vh) translateX(-20px) rotate(180deg);
  }
  75% {
    transform: translateY(-90vh) translateX(25px) rotate(270deg);
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-120vh) translateX(0) rotate(360deg);
    opacity: 0;
  }
}

/* =============================================
   深色模式調整
   ============================================= */

body.dark-mode .animated-background {
  background: linear-gradient(135deg, #050510 0%, #0a0a1a 50%, #0f0f25 100%);
}

body.dark-mode .gradient-blob {
  opacity: 0.5;
}

body.dark-mode .decoration-bubble {
  background: radial-gradient(
    ellipse at 30% 30%,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0.15) 30%,
    rgba(255, 255, 255, 0.05) 60%,
    transparent 100%
  );
  border-color: rgba(255, 255, 255, 0.15);
}

body.dark-mode .decoration-glass {
  background: radial-gradient(
      ellipse at 25% 25%,
      rgba(255, 255, 255, 0.3) 0%,
      rgba(255, 255, 255, 0.1) 20%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 75% 75%,
      rgba(255, 255, 255, 0.08) 0%,
      transparent 40%
    );
  border-color: rgba(255, 255, 255, 0.1);
}

/* =============================================
   淺色模式覆蓋
   ============================================= */

body:not(.dark-mode) .animated-background {
  background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 50%, #b3e5fc 100%);
}

body:not(.dark-mode) .gradient-blob {
  opacity: 0.5;
  mix-blend-mode: multiply;
  filter: blur(60px);
}

body:not(.dark-mode) .blob-1 {
  background: linear-gradient(
    135deg,
    hsl(280, 70%, 75%) 0%,
    hsl(320, 70%, 70%) 50%,
    hsl(350, 70%, 75%) 100%
  );
}

body:not(.dark-mode) .blob-2 {
  background: linear-gradient(
    135deg,
    hsl(200, 70%, 70%) 0%,
    hsl(240, 70%, 75%) 50%,
    hsl(280, 70%, 70%) 100%
  );
}

body:not(.dark-mode) .blob-3 {
  background: linear-gradient(
    135deg,
    hsl(150, 60%, 65%) 0%,
    hsl(180, 60%, 70%) 50%,
    hsl(200, 60%, 70%) 100%
  );
}

body:not(.dark-mode) .blob-4 {
  background: linear-gradient(
    135deg,
    hsl(30, 80%, 70%) 0%,
    hsl(60, 80%, 70%) 50%,
    hsl(90, 70%, 65%) 100%
  );
}

body:not(.dark-mode) .blob-5 {
  background: linear-gradient(
    135deg,
    hsl(330, 70%, 75%) 0%,
    hsl(0, 70%, 70%) 50%,
    hsl(30, 70%, 70%) 100%
  );
}
